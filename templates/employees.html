{%  extends 'layout.html' %}

{%  block body %}
    <h1>Employee Management</h1>
    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
        Add Employee
      </button>
    <div class="container collapse"  id="collapseExample">
        {% from "includes/_formhelpers.html" import render_field %}
        <form action="" method="POST" class="form">
            <div class="row">
                <div class="col-md-4 col-sm-12 ">
                    <div class="form-group">
                        {{ render_field(form.first_name, class_="form_control") }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.last_name, class_="form_control") }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.email, class_="form_control") }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.city, class_="form_control") }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.state, class_="form_control") }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.country, class_="form_control") }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.timezone, class_="form_control") }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.emp_id, class_="form_control") }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.slack_handle, class_="form_control") }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <div><label for="start_date">Start Date</label></div>
                        <input data-provide="datepicker" data-date-format="mm/dd/yyyy" id="start_date" type="date" name="start_date"  />
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.phone, class_="form_control") }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.manager_id, class_="form_control") }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.title, class_="form_control") }}
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        {{ render_field(form.picture, class_="form_control") }}
                    </div>
                </div>
            </div>
            <p><input type="submit" class="btn btn-primary" value="Submit" data-toggle="collapse" data-target="#collapseExample"></p>
        </form>
    </div>

    <div class="container">
        <h2>Employee List</h2>
        <div class="row" style="overflow: scroll; height: 600px; margin-top: 25px">
        <table class="table fixed_header">
            <thead>
                <tr >
                    <th scope="col" >Emp ID</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Start Date</th>
                    <th scope="col">Slack Handle</th>
                    <th scope="col">Timezone</th>
                    <th scope="col">City</th>
                    <th scope="col">State</th>
                    <th scope="col">Country</th>
                    <th scope="col">Title</th>
                    <th scope="col">Mgr ID</th>
                    <th scope="col">Picture</th>
                    <th scope="col">Phone</th>
                    <th scope="col">User Opt Out</th>
                    <th scope="col">Mgr Opt Out</th>
                    <th scope="col">Admin Opt Out</th>
                    <th scope="col">Created Date</th>
                </tr>
            </thead>
            <tbody>
                {% for emp in employees %}
                    <tr>
                        <td>{{ emp.emp_id }}</td>
                        <td>{{ emp.first_name }}</td>
                        <td>{{ emp.last_name }}</td>
                        <td>{{ emp.email }}</td>
                        <td>{{ emp.slack_handle }}</td>
                        <td>{{ emp.start_date }}</td>
                        <td>{{ emp.timezone }}</td>
                        <td>{{ emp.city }}</td>
                        <td>{{ emp.state }}</td>
                        <td>{{ emp.country }}</td>
                        <td>{{ emp.title }}</td>
                        <td>{{ emp.manager_id }}</td>
                        <td>{{ emp.picture }}</td>
                        <td>{{ emp.phone }}</td>
                        <td>{{ emp.user_opt_out }}</td>
                        <td>{{ emp.manager_opt_out }}</td>
                        <td>{{ emp.admin_opt_out }}</td>
                        <td>{{ emp.created_date }}</td>
                    </tr>
                {% endfor %}

            </tbody>
        </table>
    </div>
    </div>
    <script src="{{ url_for('static', filename='employee.js') }}"></script>
{%  endblock %}